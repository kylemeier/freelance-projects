(function(){function a(e){e.bind("load",function(){e.addClass("visible");e.removeClass("invisible")});e.attr("src",e.attr("data-src"))}function f(e,t,n,r){var i=r.attr("data-owidth")/r.attr("data-oheight"),s=0,o=0,u=2;if(e<800){s=Math.round(n/i);r.parent().css("height",s);r.parent().css("width","100%");return s+u}o=Math.round(i*t);r.parent().css("width",o);r.parent().css("height","100%");return-(o+u)}function l(e){var t=u.height(),l=u.width(),c=t*n*r,h=l*n,p=0;s.each(function(){var t=$(this);e&&a(t);p+=f(l,c,h,t)});if(p>0){o.height(p);i.css("width","80%")}else{i.width(-p);o.css("height","100%")}}function c(e){if(u.width()>800){console.log("desktop view");var t=0;e?t=1:t=1;var n=$("#content-pane").height()*t,r=n*(16/9),i=r*5+25;$(".video-wrapper").css("width",r);$("#content").css("width",i)}else{console.log("mobile");$("#content-pane").css("width","100%");$("#content").css("width","80%");$(".video-wrapper").css("width","100%")}}function h(){o.removeClass("invisible");o.addClass("visible");if(document.URL.search("video")>0){r=.75;$("body").addClass("video")}l(1)}var e=0,t=0,n=.8,r=1,i=$("#content"),s=$("#content").find("img"),o=$(".page-container"),u=$(window);$(document).on("click","#icon-scroll-right",function(e){var t=$("#content-pane").width()+6;e.preventDefault();$("#content-pane").animate({scrollLeft:"+="+t},700,"easeInOutQuad")});$(document).on("click","#icon-scroll-left",function(e){var t=$("#content-pane").width()+6;e.preventDefault();$("#content-pane").animate({scrollLeft:"-="+t},700,"easeInOutQuad")});$(document).on("click","#icon-nav",function(t){t.preventDefault();if(e===0){o.addClass("menu-open");setTimeout(function(){e=1},500)}});$(document).on("click","#sliding-container",function(){if(e===1){o.removeClass("menu-open");setTimeout(function(){e=0},500)}});$(document).on("click",".play-video",function(e){e.preventDefault();var t=$(this).attr("href");$("iframe").remove();$(".play-video").show();$(this).parent().append('<iframe width="100%" height="100%" src="'+t+'?theme=light&color=white&autohide=1&autoplay=1" frameBorder="0" allowfullscreen></iframe>')});u.resize(function(){l(0)});h()})();